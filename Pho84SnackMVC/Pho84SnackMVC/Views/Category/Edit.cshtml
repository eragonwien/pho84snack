@model Pho84SnackMVC.Models.Category
@{
   var availableProducts = (await productRepository.GetAll()).ToList();
}
<h1 class="title is-size-3">@Model.Name</h1>
<form class="w-form" asp-action="edit" asp-route-id="@Model.Id">
   @Html.HiddenFor(m => m.Id)
   <div class="field">
      <label class="label" asp-for="Name"></label>
      <div class="control">
         <input type="text" class="input" asp-for="Name">
      </div>
      <p class="help is-danger"><span asp-validation-for="Name"></span></p>
   </div>
   <div class="field">
      <label class="label" asp-for="Description"></label>
      <div class="control">
         <textarea type="text" class="textarea" asp-for="Description"></textarea>
      </div>
      <p class="help is-danger"><span asp-validation-for="Description"></span></p>
   </div>
   <div class="panel">
      <p class="panel-heading has-text-weight-bold">@Html.DisplayNameFor(m => m.Products)</p>
      <div style="overflow-y: scroll; height: 200px;">
         @foreach (var productSelect in availableProducts)
         {
            <label class="panel-block">
               <input type="checkbox" name="SelectedProductIds" value="@productSelect.Id" @(Model.SelectedProductIds.Contains(productSelect.Id) ? "checked" : "")>
               <span>@productSelect.Name</span>
            </label>
         }
      </div>
   </div>
   <div class="field is-grouped is-pulled-right">
      <div class="control">
         <button type="submit" class="button is-link">
            <span class="icon is-small is-right"><i class="fas fa-save"></i></span>
            <span>Save</span>
         </button>
      </div>
      <div class="control">
         <a class="button" asp-action="details" asp-route-id="@Model.Id">Cancel</a>
      </div>
   </div>
</form>
